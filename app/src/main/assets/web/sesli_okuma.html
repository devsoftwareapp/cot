<!doctype html>
<html lang="tr" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Sesli Okuma | PDF Reader</title>
  
  <style>
    /* Material Symbols Rounded - Local WebView Font */
    @font-face {
        font-family: 'Material Symbols Rounded';
        src: url('fonts/MaterialSymbolsRounded.woff2') format('woff2');
        font-weight: 100 700;
        font-style: normal;
    }

    .material-symbols-rounded {
        font-family: 'Material Symbols Rounded';
        font-weight: normal;
        font-style: normal;
        font-size: 24px;
        display: inline-block;
        line-height: 1;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: normal;
        white-space: nowrap;
        direction: ltr;
        -webkit-font-smoothing: antialiased;
        font-variation-settings:
            'FILL' 0,
            'wght' 400,
            'GRAD' 0,
            'opsz' 48;
    }
    
    /* --- 1. DEÄÄ°ÅKENLER --- */
    :root {
      --background: #e8e8e8;
      --surface: #ffffff;
      --primary: #4a6fa5;
      --secondary: #3a5985;
      --success: #27ae60;
      --error: #e74c3c;
      --warning: #f39c12;
      --text-primary: #2c3e50;
      --text-secondary: #7f8c8d;
      --border: #d4d4d4; 
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      --transition-fast: 150ms ease;
      --transition-normal: 250ms cubic-bezier(0.4, 0, 0.2, 1);
      
      --header-height: 64px;
      --spacing-sm: 8px;
      --spacing-md: 16px;
      --spacing-lg: 24px;
      --radius-md: 12px;
      --radius-lg: 16px;
      --radius-full: 9999px;
    }

    [data-theme="dark"] {
      --background: #0f172a;
      --surface: #1e293b;
      --text-primary: #f8fafc;
      --text-secondary: #cbd5e1;
      --border: #334155;
      --primary: #4a6fa5;
      --secondary: #3a5985;
    }

    /* --- 2. TEMEL AYARLAR --- */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { 
      height: 100%; 
      font-family: 'Roboto', sans-serif; 
      background-color: var(--background); 
      color: var(--text-primary); 
      overflow: hidden; 
    }
    body { display: flex; flex-direction: column; }
    .material-symbols-rounded { font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24; user-select: none; }
    
    /* Utility Classes */
    .flex { display: flex; }
    .items-center { align-items: center; }
    .justify-center { justify-content: center; }
    .justify-between { justify-content: space-between; }
    .flex-col { flex-direction: column; }
    .gap-sm { gap: var(--spacing-sm); }
    .gap-md { gap: var(--spacing-md); }
    .gap-lg { gap: var(--spacing-lg); }
    .font-semibold { font-weight: 600; }
    .font-bold { font-weight: 700; }
    .text-secondary { color: var(--text-secondary); }
    .text-sm { font-size: 14px; }
    .text-lg { font-size: 18px; }
    .text-xl { font-size: 20px; }
    .mt-1 { margin-top: 4px; }
    .mt-2 { margin-top: 8px; }
    .mt-3 { margin-top: 12px; }
    .mt-4 { margin-top: 16px; }
    .mb-2 { margin-bottom: 8px; }
    .mb-4 { margin-bottom: 16px; }
    .p-3 { padding: 12px; }
    .p-4 { padding: 16px; }
    .text-center { text-align: center; }
    .w-full { width: 100%; }
    .hidden { display: none !important; }
    .absolute { position: absolute; }
    .relative { position: relative; }
    .fixed { position: fixed; }
    .inset-0 { top: 0; right: 0; bottom: 0; left: 0; }

    /* --- 3. ÃœST BAR (HEADER) --- */
    .top-bar-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: var(--header-height);
        z-index: 100;
        background: var(--surface);
        transition: transform 0.3s ease, background-color 0.3s ease;
        box-shadow: var(--shadow-md);
    }
    .app-header { 
        height: var(--header-height); 
        padding: 0 var(--spacing-lg); 
        display: flex; 
        align-items: center; 
        justify-content: space-between; 
        border-bottom: 1px solid var(--border);
        position: relative; 
    }

    .logo { 
        width: 36px; 
        height: 36px; 
        border-radius: 50%; 
        display: flex; 
        align-items: center; 
        justify-content: center; 
        overflow: hidden; 
        flex-shrink: 0;
    } 
    .logo img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    
    .app-title { 
      font-size: 20px; 
      font-weight: 700; 
      background: linear-gradient(to right, #4a6fa5, #3498db); 
      -webkit-background-clip: text; 
      -webkit-text-fill-color: transparent; 
      background-clip: text; 
    }
    
    .icon-button { 
      width: 40px; 
      height: 40px; 
      border-radius: var(--radius-md); 
      display: flex; 
      align-items: center; 
      justify-content: center; 
      background: transparent; 
      border: none; 
      color: var(--text-secondary); 
      cursor: pointer; 
      transition: all var(--transition-fast); 
    }
    .icon-button:hover { 
      background: rgba(0, 0, 0, 0.05); 
      color: var(--text-primary); 
    }
    .icon-button.primary { 
      background: var(--primary); 
      color: white; 
    }

    /* --- 4. ANA Ä°Ã‡ERÄ°K ALANI --- */
    .main-content {
        padding-top: var(--header-height);
        padding-bottom: 20px;
        height: 100vh;
        width: 100%;
        overflow-y: auto; 
        position: relative;
        z-index: 1;
        transition: padding 0.3s ease;
    }
    
    .container {
        max-width: 100%;
        margin: 0 auto;
        padding: 20px;
    }

    /* --- 5. PDF SEÃ‡Ä°M ALANI --- */
    .pdf-select-section {
        margin-bottom: 24px;
        padding: var(--spacing-lg);
        background: var(--surface);
        border-radius: var(--radius-lg);
        border: 2px dashed var(--border);
        text-align: center;
        transition: all var(--transition-normal);
        cursor: pointer;
    }
    
    .pdf-select-section:hover {
        border-color: var(--primary);
        background: rgba(74, 111, 165, 0.05);
        transform: translateY(-2px);
    }
    
    .select-pdf-icon {
        font-size: 48px;
        color: var(--primary);
        margin-bottom: var(--spacing-md);
    }
    
    .select-pdf-title {
        font-size: 18px;
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: 8px;
    }
    
    .select-pdf-subtitle {
        font-size: 14px;
        color: var(--text-secondary);
    }

    /* --- 6. PDF BÄ°LGÄ° GÃ–STERÄ°MÄ° --- */
    .pdf-info-card {
        background: var(--surface);
        border-radius: var(--radius-lg);
        padding: var(--spacing-lg);
        margin-bottom: 24px;
        border: 1px solid var(--border);
        display: none;
    }
    
    .pdf-info-card.visible {
        display: block;
        animation: slideIn 0.3s ease;
    }
    
    .pdf-info-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 16px;
    }
    
    .pdf-name {
        font-size: 16px;
        font-weight: 600;
        color: var(--text-primary);
        word-break: break-all;
    }
    
    .pdf-meta {
        display: flex;
        gap: 12px;
        margin-top: 8px;
        font-size: 12px;
        color: var(--text-secondary);
    }
    
    .language-info {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 8px 12px;
        background: rgba(74, 111, 165, 0.1);
        border-radius: var(--radius-md);
        margin-top: 12px;
        font-size: 14px;
    }
    
    .language-flag {
        font-size: 20px;
    }

    /* --- 7. SESLÄ° OKUMA KONTROLLERÄ° --- */
    .speech-controls {
        background: var(--surface);
        border-radius: var(--radius-lg);
        padding: var(--spacing-lg);
        margin-bottom: 24px;
        border: 1px solid var(--border);
        display: none;
    }
    
    .speech-controls.visible {
        display: block;
        animation: fadeIn 0.5s ease;
    }
    
    .progress-info {
        margin-bottom: 20px;
    }
    
    .progress-text {
        font-size: 14px;
        color: var(--text-secondary);
        margin-bottom: 4px;
    }
    
    .progress-bar {
        width: 100%;
        height: 6px;
        background: var(--border);
        border-radius: 3px;
        overflow: hidden;
    }
    
    .progress-fill {
        height: 100%;
        background: var(--primary);
        width: 0%;
        transition: width 0.3s ease;
    }
    
    .controls-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 12px;
        margin-bottom: 16px;
    }
    
    .control-button {
        height: 50px;
        border: none;
        border-radius: var(--radius-md);
        background: var(--primary);
        color: white;
        font-size: 14px;
        font-weight: 600;
        cursor: pointer;
        transition: all var(--transition-fast);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
    }
    
    .control-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(74, 111, 165, 0.3);
    }
    
    .control-button:active {
        transform: translateY(0);
    }
    
    .control-button.secondary {
        background: var(--text-secondary);
    }
    
    .control-button.success {
        background: var(--success);
    }
    
    .control-button.warning {
        background: var(--warning);
    }
    
    .control-button.error {
        background: var(--error);
    }
    
    .speed-controls {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
    }
    
    .speed-button {
        flex: 1;
        padding: 10px;
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: var(--radius-md);
        color: var(--text-primary);
        font-size: 14px;
        cursor: pointer;
        transition: all var(--transition-fast);
    }
    
    .speed-button:hover {
        background: rgba(0, 0, 0, 0.05);
    }
    
    .speed-button.active {
        background: var(--primary);
        color: white;
        border-color: var(--primary);
    }

    /* --- 8. TEXT GÃ–STERÄ°M ALANI --- */
    .text-display {
        background: var(--surface);
        border-radius: var(--radius-lg);
        padding: var(--spacing-lg);
        margin-bottom: 24px;
        border: 1px solid var(--border);
        max-height: 300px;
        overflow-y: auto;
        display: none;
    }
    
    .text-display.visible {
        display: block;
    }
    
    .text-display-title {
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 12px;
        color: var(--text-primary);
    }
    
    .text-content {
        font-size: 14px;
        line-height: 1.6;
        color: var(--text-primary);
    }
    
    .text-highlight {
        background: rgba(255, 235, 59, 0.5);
        border-radius: 3px;
        padding: 2px 0;
        transition: background-color 0.3s ease;
    }
    
    .current-sentence {
        font-weight: 600;
        color: var(--primary);
    }

    /* --- 9. DURUM MESAJLARI --- */
    .status-message {
        padding: 16px;
        border-radius: var(--radius-md);
        margin-bottom: 16px;
        text-align: center;
        display: none;
    }
    
    .status-message.visible {
        display: block;
        animation: fadeIn 0.5s ease;
    }
    
    .status-message.info {
        background: rgba(74, 111, 165, 0.1);
        color: var(--primary);
        border: 1px solid rgba(74, 111, 165, 0.3);
    }
    
    .status-message.success {
        background: rgba(39, 174, 96, 0.1);
        color: var(--success);
        border: 1px solid rgba(39, 174, 96, 0.3);
    }
    
    .status-message.warning {
        background: rgba(243, 156, 18, 0.1);
        color: var(--warning);
        border: 1px solid rgba(243, 156, 18, 0.3);
    }
    
    .status-message.error {
        background: rgba(231, 76, 60, 0.1);
        color: var(--error);
        border: 1px solid rgba(231, 76, 60, 0.3);
    }

    /* --- 10. BOÅ DURUM MESAJI --- */
    .empty-state {
        text-align: center;
        padding: 40px 20px;
        color: var(--text-secondary);
        display: none;
    }
    
    .empty-state.visible {
        display: block;
    }
    
    .empty-icon {
        font-size: 64px;
        margin-bottom: 16px;
        opacity: 0.5;
    }
    
    .empty-text {
        font-size: 16px;
        margin-bottom: 24px;
    }

    /* --- 11. ANÄ°MASYONLAR --- */
    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }
    
    @keyframes slideIn {
        from { 
            opacity: 0;
            transform: translateY(20px);
        }
        to { 
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.7; }
    }
    
    .pulse {
        animation: pulse 1.5s infinite;
    }

    /* --- 12. DARK MODE DÃœZENLEMELERÄ° --- */
    [data-theme="dark"] .pdf-select-section:hover {
        background: rgba(74, 111, 165, 0.2);
    }
    
    [data-theme="dark"] .control-button:hover {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }
    
    [data-theme="dark"] .speed-button:hover {
        background: rgba(255, 255, 255, 0.1);
    }
    
    [data-theme="dark"] .text-highlight {
        background: rgba(255, 235, 59, 0.3);
    }

    /* --- 13. RESPONSIVE TASARIM --- */
    @media (min-width: 768px) {
        .container {
            max-width: 600px;
        }
        
        .controls-grid {
            grid-template-columns: repeat(6, 1fr);
        }
        
        .text-display {
            max-height: 400px;
        }
    }

    @media (max-width: 480px) {
        .controls-grid {
            grid-template-columns: repeat(2, 1fr);
        }
        
        .container {
            padding: 16px;
        }
        
        .app-header {
            padding: 0 var(--spacing-md);
        }
    }
  </style>
</head>
<body>

  <div class="top-bar-container" id="topBar">
    <header class="app-header">
      <div class="flex items-center gap-sm">
        <button class="icon-button" onclick="goBack()">
          <span class="material-symbols-rounded">arrow_back</span>
        </button>
        <div class="logo">
          <img src="logo/logo.png" alt="PDF Reader Logo">
        </div>
        <h1 class="app-title" id="pageTitle">Sesli Okuma</h1>
      </div>
      <div class="flex items-center gap-sm">
        <button class="icon-button" onclick="refreshPDFList()">
          <span class="material-symbols-rounded">refresh</span>
        </button>
      </div>
    </header>
  </div>

  <main class="main-content" id="mainContent">
    <div class="container">
      
      <!-- PDF SeÃ§im AlanÄ± -->
      <div class="pdf-select-section" id="pdfSelectSection" onclick="selectPDFFile()">
        <div class="select-pdf-icon material-symbols-rounded">upload_file</div>
        <h2 class="select-pdf-title" id="selectPdfTitle">PDF DosyasÄ± SeÃ§</h2>
        <p class="select-pdf-subtitle" id="selectPdfSubtitle">Sesli okuma iÃ§in bir PDF dosyasÄ± seÃ§in</p>
      </div>
      
      <!-- PDF Bilgi KartÄ± -->
      <div class="pdf-info-card" id="pdfInfoCard">
        <div class="pdf-info-header">
          <div class="flex flex-col w-full">
            <div class="pdf-name" id="currentPdfName">-</div>
            <div class="pdf-meta">
              <span id="currentPdfSize">-</span>
              <span>â€¢</span>
              <span id="currentPdfDate">-</span>
            </div>
          </div>
          <button class="icon-button" onclick="clearSelection()">
            <span class="material-symbols-rounded">close</span>
          </button>
        </div>
        <div class="language-info" id="languageInfo">
          <span class="language-flag" id="languageFlag">ğŸ‡ºğŸ‡¸</span>
          <span id="languageText">Dil: Ä°ngilizce</span>
        </div>
      </div>
      
      <!-- Sesli Okuma Kontrolleri -->
      <div class="speech-controls" id="speechControls">
        <div class="progress-info">
          <div class="progress-text" id="progressText">HazÄ±rlanÄ±yor...</div>
          <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
          </div>
        </div>
        
        <div class="controls-grid">
          <button class="control-button secondary" id="btnPrev" onclick="prevSentence()" title="Ã–nceki cÃ¼mle">
            <span class="material-symbols-rounded">skip_previous</span>
            <span class="button-text">GERÄ°</span>
          </button>
          <button class="control-button success" id="btnPlayPause" onclick="togglePlayPause()" title="Oynat/Durdur">
            <span class="material-symbols-rounded" id="playPauseIcon">play_arrow</span>
            <span class="button-text" id="playPauseText">OYUNAT</span>
          </button>
          <button class="control-button secondary" id="btnNext" onclick="nextSentence()" title="Sonraki cÃ¼mle">
            <span class="button-text">Ä°LERÄ°</span>
            <span class="material-symbols-rounded">skip_next</span>
          </button>
          <button class="control-button warning" id="btnRestart" onclick="restartReading()" title="BaÅŸtan oku">
            <span class="material-symbols-rounded">replay</span>
            <span class="button-text">BAÅTAN</span>
          </button>
          <button class="control-button" id="btnSpeed" onclick="cycleSpeed()" title="Okuma hÄ±zÄ±">
            <span class="material-symbols-rounded">speed</span>
            <span class="button-text" id="speedText">1.0x</span>
          </button>
          <button class="control-button error" id="btnStop" onclick="stopReading()" title="OkumayÄ± durdur">
            <span class="material-symbols-rounded">stop</span>
            <span class="button-text">DURDUR</span>
          </button>
        </div>
        
        <div class="speed-controls">
          <button class="speed-button" data-speed="0.5" onclick="setSpeed(0.5)">0.5x</button>
          <button class="speed-button" data-speed="0.75" onclick="setSpeed(0.75)">0.75x</button>
          <button class="speed-button active" data-speed="1.0" onclick="setSpeed(1.0)">1.0x</button>
          <button class="speed-button" data-speed="1.25" onclick="setSpeed(1.25)">1.25x</button>
          <button class="speed-button" data-speed="1.5" onclick="setSpeed(1.5)">1.5x</button>
          <button class="speed-button" data-speed="2.0" onclick="setSpeed(2.0)">2.0x</button>
        </div>
      </div>
      
      <!-- Metin GÃ¶sterim AlanÄ± -->
      <div class="text-display" id="textDisplay">
        <div class="text-display-title">Metin Ã–nizleme</div>
        <div class="text-content" id="textContent">
          Metin yÃ¼kleniyor...
        </div>
      </div>
      
      <!-- Durum MesajlarÄ± -->
      <div class="status-message info" id="statusMessage">
        <p id="statusText">PDF seÃ§mek iÃ§in yukarÄ±daki alana tÄ±klayÄ±n</p>
      </div>
      
      <!-- BoÅŸ Durum -->
      <div class="empty-state visible" id="emptyState">
        <div class="empty-icon material-symbols-rounded">volume_up</div>
        <div class="empty-text" id="emptyStateText">Sesli okuma iÃ§in bir PDF dosyasÄ± seÃ§in</div>
        <button class="control-button primary" onclick="selectPDFFile()">
          <span class="material-symbols-rounded">upload_file</span>
          PDF SEÃ‡
        </button>
      </div>
      
    </div>
  </main>

  <!-- Gizli File Input -->
  <input type="file" id="fileInput" accept=".pdf" class="hidden">

  <script src="pdf.min.js"></script>
  <script>pdfjsLib.GlobalWorkerOptions.workerSrc = "pdf.worker.min.js";</script>
  <script src="lang.js"></script>
  
  <script>
    // ==================== DEÄÄ°ÅKENLER ====================
    let speechSynthesis = window.speechSynthesis;
    let currentPdfFile = null;
    let pdfTextContent = "";
    let sentences = [];
    let currentSentenceIndex = 0;
    let isSpeaking = false;
    let isPaused = false;
    let speechRate = 1.0;
    let currentUtterance = null;
    let detectedLanguage = 'en-US';
    let pdfDocument = null;
    let textPositions = [];
    let currentHighlight = null;
    let extractionInProgress = false;
    
    // ==================== DÄ°L Ã‡EVÄ°RÄ°LERÄ° ====================
    const translations = {
        "tr": {
            "pageTitle": "Sesli Okuma",
            "selectPdfTitle": "PDF DosyasÄ± SeÃ§",
            "selectPdfSubtitle": "Sesli okuma iÃ§in bir PDF dosyasÄ± seÃ§in",
            "btnPrev": "GERÄ°",
            "btnPlayPause": "OYUNAT",
            "btnNext": "Ä°LERÄ°",
            "btnRestart": "BAÅTAN",
            "btnSpeed": "1.0x",
            "btnStop": "DURDUR",
            "emptyStateText": "Sesli okuma iÃ§in bir PDF dosyasÄ± seÃ§in",
            "selectPdf": "PDF SEÃ‡",
            "statusSelectPdf": "PDF seÃ§mek iÃ§in yukarÄ±daki alana tÄ±klayÄ±n",
            "statusLoading": "PDF yÃ¼kleniyor...",
            "statusExtracting": "Metin Ã§Ä±karÄ±lÄ±yor...",
            "statusReady": "Okumaya hazÄ±r!",
            "statusPlaying": "Okuyor...",
            "statusPaused": "DuraklatÄ±ldÄ±",
            "statusCompleted": "Okuma tamamlandÄ±",
            "statusError": "Hata oluÅŸtu",
            "progressExtracting": "Metin Ã§Ä±karÄ±lÄ±yor: ",
            "progressSentence": "CÃ¼mle: ",
            "progressComplete": "TamamlandÄ±",
            "alertSelectPdf": "LÃ¼tfen Ã¶nce bir PDF dosyasÄ± seÃ§in",
            "alertNoText": "PDF'de okunabilir metin bulunamadÄ±",
            "alertSpeechNotSupported": "TarayÄ±cÄ±nÄ±z ses sentezleme Ã¶zelliÄŸini desteklemiyor",
            "alertAlreadySpeaking": "Zaten okuyor",
            "alertNotSpeaking": "Okuma aktif deÄŸil",
            "alertFirstSentence": "Ä°lk cÃ¼mledesiniz",
            "alertLastSentence": "Son cÃ¼mledesiniz",
            "languageDetected": "Dil algÄ±landÄ±: "
        },
        "en": {
            "pageTitle": "Text-to-Speech",
            "selectPdfTitle": "Select PDF File",
            "selectPdfSubtitle": "Select a PDF file for text-to-speech",
            "btnPrev": "PREV",
            "btnPlayPause": "PLAY",
            "btnNext": "NEXT",
            "btnRestart": "RESTART",
            "btnSpeed": "1.0x",
            "btnStop": "STOP",
            "emptyStateText": "Select a PDF file for text-to-speech",
            "selectPdf": "SELECT PDF",
            "statusSelectPdf": "Click the area above to select a PDF",
            "statusLoading": "Loading PDF...",
            "statusExtracting": "Extracting text...",
            "statusReady": "Ready to read!",
            "statusPlaying": "Playing...",
            "statusPaused": "Paused",
            "statusCompleted": "Reading completed",
            "statusError": "Error occurred",
            "progressExtracting": "Extracting text: ",
            "progressSentence": "Sentence: ",
            "progressComplete": "Complete",
            "alertSelectPdf": "Please select a PDF file first",
            "alertNoText": "No readable text found in PDF",
            "alertSpeechNotSupported": "Your browser doesn't support speech synthesis",
            "alertAlreadySpeaking": "Already speaking",
            "alertNotSpeaking": "Not currently speaking",
            "alertFirstSentence": "You're at the first sentence",
            "alertLastSentence": "You're at the last sentence",
            "languageDetected": "Language detected: "
        },
        "ar": {
            "pageTitle": "Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø¨ØµÙˆØª",
            "selectPdfTitle": "Ø§Ø®ØªØ± Ù…Ù„Ù PDF",
            "selectPdfSubtitle": "Ø§Ø®ØªØ± Ù…Ù„Ù PDF Ù„Ù„Ù‚Ø±Ø§Ø¡Ø© Ø¨ØµÙˆØª",
            "btnPrev": "Ø§Ù„Ø³Ø§Ø¨Ù‚",
            "btnPlayPause": "ØªØ´ØºÙŠÙ„",
            "btnNext": "Ø§Ù„ØªØ§Ù„ÙŠ",
            "btnRestart": "Ø¥Ø¹Ø§Ø¯Ø©",
            "btnSpeed": "1.0x",
            "btnStop": "ØªÙˆÙ‚Ù",
            "emptyStateText": "Ø§Ø®ØªØ± Ù…Ù„Ù PDF Ù„Ù„Ù‚Ø±Ø§Ø¡Ø© Ø¨ØµÙˆØª",
            "selectPdf": "Ø§Ø®ØªØ± PDF",
            "statusSelectPdf": "Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø£Ø¹Ù„Ø§Ù‡ Ù„Ø§Ø®ØªÙŠØ§Ø± PDF",
            "statusLoading": "Ø¬Ø§Ø± ØªØ­Ù…ÙŠÙ„ PDF...",
            "statusExtracting": "Ø¬Ø§Ø± Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ...",
            "statusReady": "Ø¬Ø§Ù‡Ø² Ù„Ù„Ù‚Ø±Ø§Ø¡Ø©!",
            "statusPlaying": "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ´ØºÙŠÙ„...",
            "statusPaused": "Ù…ØªÙˆÙ‚Ù Ù…Ø¤Ù‚ØªØ§Ù‹",
            "statusCompleted": "Ø§ÙƒØªÙ…Ù„Øª Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©",
            "statusError": "Ø­Ø¯Ø« Ø®Ø·Ø£",
            "progressExtracting": "Ø¬Ø§Ø± Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ: ",
            "progressSentence": "Ø¬Ù…Ù„Ø©: ",
            "progressComplete": "Ù…ÙƒØªÙ…Ù„",
            "alertSelectPdf": "Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù PDF Ø£ÙˆÙ„Ø§Ù‹",
            "alertNoText": "Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù†Øµ Ù‚Ø§Ø¨Ù„ Ù„Ù„Ù‚Ø±Ø§Ø¡Ø© ÙÙŠ PDF",
            "alertSpeechNotSupported": "Ù…ØªØµÙØ­Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªÙˆÙ„ÙŠÙ Ø§Ù„ÙƒÙ„Ø§Ù…",
            "alertAlreadySpeaking": "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ø¯Ø« Ø¨Ø§Ù„ÙØ¹Ù„",
            "alertNotSpeaking": "ØºÙŠØ± Ù…ØªØ­Ø¯Ø« Ø­Ø§Ù„ÙŠØ§Ù‹",
            "alertFirstSentence": "Ø£Ù†Øª ÙÙŠ Ø§Ù„Ø¬Ù…Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰",
            "alertLastSentence": "Ø£Ù†Øª ÙÙŠ Ø§Ù„Ø¬Ù…Ù„Ø© Ø§Ù„Ø£Ø®ÙŠØ±Ø©",
            "languageDetected": "ØªÙ… Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ù„ØºØ©: "
        },
        "de": {
            "pageTitle": "Sprachausgabe",
            "selectPdfTitle": "PDF-Datei auswÃ¤hlen",
            "selectPdfSubtitle": "WÃ¤hlen Sie eine PDF-Datei fÃ¼r die Sprachausgabe",
            "btnPrev": "ZURÃœCK",
            "btnPlayPause": "ABSPIELEN",
            "btnNext": "WEITER",
            "btnRestart": "NEUSTART",
            "btnSpeed": "1.0x",
            "btnStop": "STOPP",
            "emptyStateText": "WÃ¤hlen Sie eine PDF-Datei fÃ¼r die Sprachausgabe",
            "selectPdf": "PDF AUSWÃ„HLEN",
            "statusSelectPdf": "Klicken Sie auf den Bereich oben, um eine PDF auszuwÃ¤hlen",
            "statusLoading": "PDF wird geladen...",
            "statusExtracting": "Text wird extrahiert...",
            "statusReady": "Bereit zum Lesen!",
            "statusPlaying": "Wird abgespielt...",
            "statusPaused": "Pausiert",
            "statusCompleted": "Lesen abgeschlossen",
            "statusError": "Fehler aufgetreten",
            "progressExtracting": "Text extrahieren: ",
            "progressSentence": "Satz: ",
            "progressComplete": "VollstÃ¤ndig",
            "alertSelectPdf": "Bitte wÃ¤hlen Sie zuerst eine PDF-Datei",
            "alertNoText": "Kein lesbarer Text in PDF gefunden",
            "alertSpeechNotSupported": "Ihr Browser unterstÃ¼tzt keine Sprachsynthese",
            "alertAlreadySpeaking": "Spricht bereits",
            "alertNotSpeaking": "Aktuell nicht aktiv",
            "alertFirstSentence": "Sie sind beim ersten Satz",
            "alertLastSentence": "Sie sind beim letzten Satz",
            "languageDetected": "Sprache erkannt: "
        },
        "fr": {
            "pageTitle": "Lecture vocale",
            "selectPdfTitle": "SÃ©lectionner un fichier PDF",
            "selectPdfSubtitle": "SÃ©lectionnez un fichier PDF pour la lecture vocale",
            "btnPrev": "PRÃ‰CÃ‰DENT",
            "btnPlayPause": "LECTURE",
            "btnNext": "SUIVANT",
            "btnRestart": "REDÃ‰MARRER",
            "btnSpeed": "1.0x",
            "btnStop": "ARRÃŠTER",
            "emptyStateText": "SÃ©lectionnez un fichier PDF pour la lecture vocale",
            "selectPdf": "SÃ‰LECTIONNER PDF",
            "statusSelectPdf": "Cliquez sur la zone ci-dessus pour sÃ©lectionner un PDF",
            "statusLoading": "Chargement du PDF...",
            "statusExtracting": "Extraction du texte...",
            "statusReady": "PrÃªt Ã  lire !",
            "statusPlaying": "Lecture en cours...",
            "statusPaused": "En pause",
            "statusCompleted": "Lecture terminÃ©e",
            "statusError": "Une erreur est survenue",
            "progressExtracting": "Extraction du texte : ",
            "progressSentence": "Phrase : ",
            "progressComplete": "Complet",
            "alertSelectPdf": "Veuillez d'abord sÃ©lectionner un fichier PDF",
            "alertNoText": "Aucun texte lisible trouvÃ© dans le PDF",
            "alertSpeechNotSupported": "Votre navigateur ne prend pas en charge la synthÃ¨se vocale",
            "alertAlreadySpeaking": "Lecture dÃ©jÃ  en cours",
            "alertNotSpeaking": "Pas actuellement en lecture",
            "alertFirstSentence": "Vous Ãªtes Ã  la premiÃ¨re phrase",
            "alertLastSentence": "Vous Ãªtes Ã  la derniÃ¨re phrase",
            "languageDetected": "Langue dÃ©tectÃ©e : "
        },
        "es": {
            "pageTitle": "Lectura en voz alta",
            "selectPdfTitle": "Seleccionar archivo PDF",
            "selectPdfSubtitle": "Seleccione un archivo PDF para lectura en voz alta",
            "btnPrev": "ANTERIOR",
            "btnPlayPause": "REPRODUCIR",
            "btnNext": "SIGUIENTE",
            "btnRestart": "REINICIAR",
            "btnSpeed": "1.0x",
            "btnStop": "DETENER",
            "emptyStateText": "Seleccione un archivo PDF para lectura en voz alta",
            "selectPdf": "SELECCIONAR PDF",
            "statusSelectPdf": "Haga clic en el Ã¡rea de arriba para seleccionar un PDF",
            "statusLoading": "Cargando PDF...",
            "statusExtracting": "Extrayendo texto...",
            "statusReady": "Â¡Listo para leer!",
            "statusPlaying": "Reproduciendo...",
            "statusPaused": "En pausa",
            "statusCompleted": "Lectura completada",
            "statusError": "OcurriÃ³ un error",
            "progressExtracting": "Extrayendo texto: ",
            "progressSentence": "OraciÃ³n: ",
            "progressComplete": "Completo",
            "alertSelectPdf": "Por favor, seleccione primero un archivo PDF",
            "alertNoText": "No se encontrÃ³ texto legible en el PDF",
            "alertSpeechNotSupported": "Su navegador no soporta sÃ­ntesis de voz",
            "alertAlreadySpeaking": "Ya se estÃ¡ leyendo",
            "alertNotSpeaking": "No se estÃ¡ leyendo actualmente",
            "alertFirstSentence": "EstÃ¡s en la primera oraciÃ³n",
            "alertLastSentence": "EstÃ¡s en la Ãºltima oraciÃ³n",
            "languageDetected": "Idioma detectado: "
        },
        "ru": {
            "pageTitle": "ĞĞ·Ğ²ÑƒÑ‡ĞºĞ° Ñ‚ĞµĞºÑÑ‚Ğ°",
            "selectPdfTitle": "Ğ’Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ Ñ„Ğ°Ğ¹Ğ» PDF",
            "selectPdfSubtitle": "Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ñ„Ğ°Ğ¹Ğ» PDF Ğ´Ğ»Ñ Ğ¾Ğ·Ğ²ÑƒÑ‡ĞºĞ¸",
            "btnPrev": "ĞĞĞ—ĞĞ”",
            "btnPlayPause": "Ğ˜Ğ“Ğ ĞĞ¢Ğ¬",
            "btnNext": "Ğ”ĞĞ›Ğ¬Ğ¨Ğ•",
            "btnRestart": "Ğ—ĞĞĞĞ’Ğ",
            "btnSpeed": "1.0x",
            "btnStop": "Ğ¡Ğ¢ĞĞŸ",
            "emptyStateText": "Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ñ„Ğ°Ğ¹Ğ» PDF Ğ´Ğ»Ñ Ğ¾Ğ·Ğ²ÑƒÑ‡ĞºĞ¸",
            "selectPdf": "Ğ’Ğ«Ğ‘Ğ ĞĞ¢Ğ¬ PDF",
            "statusSelectPdf": "ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ Ğ½Ğ° Ğ¾Ğ±Ğ»Ğ°ÑÑ‚ÑŒ Ğ²Ñ‹ÑˆĞµ, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ²Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ PDF",
            "statusLoading": "Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° PDF...",
            "statusExtracting": "Ğ˜Ğ·Ğ²Ğ»ĞµÑ‡ĞµĞ½Ğ¸Ğµ Ñ‚ĞµĞºÑÑ‚Ğ°...",
            "statusReady": "Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾ Ğº Ñ‡Ñ‚ĞµĞ½Ğ¸Ñ!",
            "statusPlaying": "Ğ˜Ğ³Ñ€Ğ°ĞµÑ‚...",
            "statusPaused": "ĞŸÑ€Ğ¸Ğ¾ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¾",
            "statusCompleted": "Ğ§Ñ‚ĞµĞ½Ğ¸Ğµ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¾",
            "statusError": "ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ¾ÑˆĞ»Ğ° Ğ¾ÑˆĞ¸Ğ±ĞºĞ°",
            "progressExtracting": "Ğ˜Ğ·Ğ²Ğ»ĞµÑ‡ĞµĞ½Ğ¸Ğµ Ñ‚ĞµĞºÑÑ‚Ğ°: ",
            "progressSentence": "ĞŸÑ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ: ",
            "progressComplete": "Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¾",
            "alertSelectPdf": "ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, ÑĞ½Ğ°Ñ‡Ğ°Ğ»Ğ° Ğ²Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ñ„Ğ°Ğ¹Ğ» PDF",
            "alertNoText": "Ğ§Ğ¸Ñ‚Ğ°ĞµĞ¼Ñ‹Ğ¹ Ñ‚ĞµĞºÑÑ‚ Ğ² PDF Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½",
            "alertSpeechNotSupported": "Ğ’Ğ°Ñˆ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€ Ğ½Ğµ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚ ÑĞ¸Ğ½Ñ‚ĞµĞ· Ñ€ĞµÑ‡Ğ¸",
            "alertAlreadySpeaking": "Ğ£Ğ¶Ğµ Ñ‡Ğ¸Ñ‚Ğ°ĞµÑ‚ÑÑ",
            "alertNotSpeaking": "Ğ’ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚ Ğ½Ğµ Ñ‡Ğ¸Ñ‚Ğ°ĞµÑ‚ÑÑ",
            "alertFirstSentence": "Ğ’Ñ‹ Ğ½Ğ° Ğ¿ĞµÑ€Ğ²Ğ¾Ğ¼ Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¸",
            "alertLastSentence": "Ğ’Ñ‹ Ğ½Ğ° Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½ĞµĞ¼ Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¸",
            "languageDetected": "ĞĞ±Ğ½Ğ°Ñ€ÑƒĞ¶ĞµĞ½ ÑĞ·Ñ‹Ğº: "
        },
        "zh": {
            "pageTitle": "è¯­éŸ³æœ—è¯»",
            "selectPdfTitle": "é€‰æ‹©PDFæ–‡ä»¶",
            "selectPdfSubtitle": "é€‰æ‹©PDFæ–‡ä»¶è¿›è¡Œè¯­éŸ³æœ—è¯»",
            "btnPrev": "ä¸Šä¸€å¥",
            "btnPlayPause": "æ’­æ”¾",
            "btnNext": "ä¸‹ä¸€å¥",
            "btnRestart": "é‡æ–°å¼€å§‹",
            "btnSpeed": "1.0x",
            "btnStop": "åœæ­¢",
            "emptyStateText": "é€‰æ‹©PDFæ–‡ä»¶è¿›è¡Œè¯­éŸ³æœ—è¯»",
            "selectPdf": "é€‰æ‹©PDF",
            "statusSelectPdf": "ç‚¹å‡»ä¸Šæ–¹åŒºåŸŸé€‰æ‹©PDF",
            "statusLoading": "æ­£åœ¨åŠ è½½PDF...",
            "statusExtracting": "æ­£åœ¨æå–æ–‡æœ¬...",
            "statusReady": "å‡†å¤‡æœ—è¯»!",
            "statusPlaying": "æ­£åœ¨æ’­æ”¾...",
            "statusPaused": "å·²æš‚åœ",
            "statusCompleted": "æœ—è¯»å®Œæˆ",
            "statusError": "å‘ç”Ÿé”™è¯¯",
            "progressExtracting": "æå–æ–‡æœ¬: ",
            "progressSentence": "å¥å­: ",
            "progressComplete": "å®Œæˆ",
            "alertSelectPdf": "è¯·å…ˆé€‰æ‹©PDFæ–‡ä»¶",
            "alertNoText": "PDFä¸­æœªæ‰¾åˆ°å¯è¯»æ–‡æœ¬",
            "alertSpeechNotSupported": "æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè¯­éŸ³åˆæˆ",
            "alertAlreadySpeaking": "å·²ç»åœ¨æœ—è¯»",
            "alertNotSpeaking": "å½“å‰æœªæœ—è¯»",
            "alertFirstSentence": "æ‚¨åœ¨ç¬¬ä¸€å¥",
            "alertLastSentence": "æ‚¨åœ¨æœ€åä¸€å¥",
            "languageDetected": "æ£€æµ‹åˆ°è¯­è¨€: "
        },
        "ja": {
            "pageTitle": "éŸ³å£°èª­ã¿ä¸Šã’",
            "selectPdfTitle": "PDFãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ",
            "selectPdfSubtitle": "éŸ³å£°èª­ã¿ä¸Šã’ç”¨ã®PDFãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ",
            "btnPrev": "å‰ã¸",
            "btnPlayPause": "å†ç”Ÿ",
            "btnNext": "æ¬¡ã¸",
            "btnRestart": "æœ€åˆã‹ã‚‰",
            "btnSpeed": "1.0x",
            "btnStop": "åœæ­¢",
            "emptyStateText": "éŸ³å£°èª­ã¿ä¸Šã’ç”¨ã®PDFãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ",
            "selectPdf": "PDFã‚’é¸æŠ",
            "statusSelectPdf": "ä¸Šã®é ˜åŸŸã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦PDFã‚’é¸æŠ",
            "statusLoading": "PDFã‚’èª­ã¿è¾¼ã¿ä¸­...",
            "statusExtracting": "ãƒ†ã‚­ã‚¹ãƒˆã‚’æŠ½å‡ºä¸­...",
            "statusReady": "èª­ã¿ä¸Šã’ã®æº–å‚™ãŒã§ãã¾ã—ãŸ!",
            "statusPlaying": "å†ç”Ÿä¸­...",
            "statusPaused": "ä¸€æ™‚åœæ­¢ä¸­",
            "statusCompleted": "èª­ã¿ä¸Šã’å®Œäº†",
            "statusError": "ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ",
            "progressExtracting": "ãƒ†ã‚­ã‚¹ãƒˆæŠ½å‡ºä¸­: ",
            "progressSentence": "æ–‡: ",
            "progressComplete": "å®Œäº†",
            "alertSelectPdf": "ã¾ãšPDFãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã—ã¦ãã ã•ã„",
            "alertNoText": "PDFã«èª­ã¿å–ã‚Šå¯èƒ½ãªãƒ†ã‚­ã‚¹ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“",
            "alertSpeechNotSupported": "ãŠä½¿ã„ã®ãƒ–ãƒ©ã‚¦ã‚¶ã¯éŸ³å£°åˆæˆã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã›ã‚“",
            "alertAlreadySpeaking": "ã™ã§ã«èª­ã¿ä¸Šã’ä¸­ã§ã™",
            "alertNotSpeaking": "ç¾åœ¨èª­ã¿ä¸Šã’ã¦ã„ã¾ã›ã‚“",
            "alertFirstSentence": "æœ€åˆã®æ–‡ã§ã™",
            "alertLastSentence": "æœ€å¾Œã®æ–‡ã§ã™",
            "languageDetected": "æ¤œå‡ºã•ã‚ŒãŸè¨€èª: "
        },
        "ko": {
            "pageTitle": "í…ìŠ¤íŠ¸ ìŒì„± ë³€í™˜",
            "selectPdfTitle": "PDF íŒŒì¼ ì„ íƒ",
            "selectPdfSubtitle": "í…ìŠ¤íŠ¸ ìŒì„± ë³€í™˜ì„ ìœ„í•œ PDF íŒŒì¼ ì„ íƒ",
            "btnPrev": "ì´ì „",
            "btnPlayPause": "ì¬ìƒ",
            "btnNext": "ë‹¤ìŒ",
            "btnRestart": "ë‹¤ì‹œ ì‹œì‘",
            "btnSpeed": "1.0x",
            "btnStop": "ì¤‘ì§€",
            "emptyStateText": "í…ìŠ¤íŠ¸ ìŒì„± ë³€í™˜ì„ ìœ„í•œ PDF íŒŒì¼ ì„ íƒ",
            "selectPdf": "PDF ì„ íƒ",
            "statusSelectPdf": "ìœ„ ì˜ì—­ì„ í´ë¦­í•˜ì—¬ PDF ì„ íƒ",
            "statusLoading": "PDF ë¡œë“œ ì¤‘...",
            "statusExtracting": "í…ìŠ¤íŠ¸ ì¶”ì¶œ ì¤‘...",
            "statusReady": "ì½ê¸° ì¤€ë¹„ ì™„ë£Œ!",
            "statusPlaying": "ì¬ìƒ ì¤‘...",
            "statusPaused": "ì¼ì‹œì •ì§€ë¨",
            "statusCompleted": "ì½ê¸° ì™„ë£Œ",
            "statusError": "ì˜¤ë¥˜ ë°œìƒ",
            "progressExtracting": "í…ìŠ¤íŠ¸ ì¶”ì¶œ ì¤‘: ",
            "progressSentence": "ë¬¸ì¥: ",
            "progressComplete": "ì™„ë£Œ",
            "alertSelectPdf": "ë¨¼ì € PDF íŒŒì¼ì„ ì„ íƒí•˜ì„¸ìš”",
            "alertNoText": "PDFì—ì„œ ì½ì„ ìˆ˜ ìˆëŠ” í…ìŠ¤íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ",
            "alertSpeechNotSupported": "ë¸Œë¼ìš°ì €ê°€ ìŒì„± í•©ì„±ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤",
            "alertAlreadySpeaking": "ì´ë¯¸ ì½ëŠ” ì¤‘ì…ë‹ˆë‹¤",
            "alertNotSpeaking": "í˜„ì¬ ì½ì§€ ì•ŠìŒ",
            "alertFirstSentence": "ì²« ë²ˆì§¸ ë¬¸ì¥ì…ë‹ˆë‹¤",
            "alertLastSentence": "ë§ˆì§€ë§‰ ë¬¸ì¥ì…ë‹ˆë‹¤",
            "languageDetected": "ê°ì§€ëœ ì–¸ì–´: "
        },
        "pt": {
            "pageTitle": "Leitura em voz alta",
            "selectPdfTitle": "Selecionar arquivo PDF",
            "selectPdfSubtitle": "Selecione um arquivo PDF para leitura em voz alta",
            "btnPrev": "ANTERIOR",
            "btnPlayPause": "REPRODUZIR",
            "btnNext": "PRÃ“XIMO",
            "btnRestart": "REINICIAR",
            "btnSpeed": "1.0x",
            "btnStop": "PARAR",
            "emptyStateText": "Selecione um arquivo PDF para leitura em voz alta",
            "selectPdf": "SELECIONAR PDF",
            "statusSelectPdf": "Clique na Ã¡rea acima para selecionar um PDF",
            "statusLoading": "Carregando PDF...",
            "statusExtracting": "Extraindo texto...",
            "statusReady": "Pronto para ler!",
            "statusPlaying": "Reproduzindo...",
            "statusPaused": "Pausado",
            "statusCompleted": "Leitura concluÃ­da",
            "statusError": "Ocorreu um erro",
            "progressExtracting": "Extraindo texto: ",
            "progressSentence": "SentenÃ§a: ",
            "progressComplete": "Completo",
            "alertSelectPdf": "Por favor, selecione um arquivo PDF primeiro",
            "alertNoText": "Nenhum texto legÃ­vel encontrado no PDF",
            "alertSpeechNotSupported": "Seu navegador nÃ£o suporta sÃ­ntese de voz",
            "alertAlreadySpeaking": "JÃ¡ estÃ¡ falando",
            "alertNotSpeaking": "NÃ£o estÃ¡ falando atualmente",
            "alertFirstSentence": "VocÃª estÃ¡ na primeira sentenÃ§a",
            "alertLastSentence": "VocÃª estÃ¡ na Ãºltima sentenÃ§a",
            "languageDetected": "Idioma detectado: "
        },
        "it": {
            "pageTitle": "Lettura vocale",
            "selectPdfTitle": "Seleziona file PDF",
            "selectPdfSubtitle": "Seleziona un file PDF per la lettura vocale",
            "btnPrev": "PRECEDENTE",
            "btnPlayPause": "RIPRODUCI",
            "btnNext": "SUCCESSIVO",
            "btnRestart": "RIAVVIA",
            "btnSpeed": "1.0x",
            "btnStop": "FERMA",
            "emptyStateText": "Seleziona un file PDF per la lettura vocale",
            "selectPdf": "SELEZIONA PDF",
            "statusSelectPdf": "Clicca sull'area sopra per selezionare un PDF",
            "statusLoading": "Caricamento PDF...",
            "statusExtracting": "Estrazione testo...",
            "statusReady": "Pronto per leggere!",
            "statusPlaying": "Riproducendo...",
            "statusPaused": "In pausa",
            "statusCompleted": "Lettura completata",
            "statusError": "Si Ã¨ verificato un errore",
            "progressExtracting": "Estrazione testo: ",
            "progressSentence": "Frase: ",
            "progressComplete": "Completo",
            "alertSelectPdf": "Si prega di selezionare prima un file PDF",
            "alertNoText": "Nessun testo leggibile trovato nel PDF",
            "alertSpeechNotSupported": "Il tuo browser non supporta la sintesi vocale",
            "alertAlreadySpeaking": "GiÃ  in lettura",
            "alertNotSpeaking": "Attualmente non in lettura",
            "alertFirstSentence": "Sei alla prima frase",
            "alertLastSentence": "Sei all'ultima frase",
            "languageDetected": "Lingua rilevata: "
        },
        "nl": {
            "pageTitle": "Spraakherkenning",
            "selectPdfTitle": "Selecteer PDF-bestand",
            "selectPdfSubtitle": "Selecteer een PDF-bestand voor spraakherkenning",
            "btnPrev": "VORIGE",
            "btnPlayPause": "AFSPELEN",
            "btnNext": "VOLGENDE",
            "btnRestart": "OPNIEUW",
            "btnSpeed": "1.0x",
            "btnStop": "STOP",
            "emptyStateText": "Selecteer een PDF-bestand voor spraakherkenning",
            "selectPdf": "SELECTEER PDF",
            "statusSelectPdf": "Klik op het gebied hierboven om een PDF te selecteren",
            "statusLoading": "PDF laden...",
            "statusExtracting": "Tekst extraheren...",
            "statusReady": "Klaar om te lezen!",
            "statusPlaying": "Wordt afgespeeld...",
            "statusPaused": "Gepauzeerd",
            "statusCompleted": "Lezen voltooid",
            "statusError": "Er is een fout opgetreden",
            "progressExtracting": "Tekst extraheren: ",
            "progressSentence": "Zin: ",
            "progressComplete": "Voltooid",
            "alertSelectPdf": "Selecteer eerst een PDF-bestand",
            "alertNoText": "Geen leesbare tekst gevonden in PDF",
            "alertSpeechNotSupported": "Uw browser ondersteunt geen spraaksynthese",
            "alertAlreadySpeaking": "Leest al",
            "alertNotSpeaking": "Momenteel niet aan het lezen",
            "alertFirstSentence": "U bent bij de eerste zin",
            "alertLastSentence": "U bent bij de laatste zin",
            "languageDetected": "Taal gedetecteerd: "
        },
        "pl": {
            "pageTitle": "Czytanie na gÅ‚os",
            "selectPdfTitle": "Wybierz plik PDF",
            "selectPdfSubtitle": "Wybierz plik PDF do czytania na gÅ‚os",
            "btnPrev": "POPRZEDNI",
            "btnPlayPause": "ODTWÃ“RZ",
            "btnNext": "NASTÄ˜PNY",
            "btnRestart": "PONÃ“W",
            "btnSpeed": "1.0x",
            "btnStop": "STOP",
            "emptyStateText": "Wybierz plik PDF do czytania na gÅ‚os",
            "selectPdf": "WYBIERZ PDF",
            "statusSelectPdf": "Kliknij obszar powyÅ¼ej, aby wybraÄ‡ PDF",
            "statusLoading": "Åadowanie PDF...",
            "statusExtracting": "Ekstrakcja tekstu...",
            "statusReady": "Gotowy do czytania!",
            "statusPlaying": "Odtwarzanie...",
            "statusPaused": "Wstrzymano",
            "statusCompleted": "Czytanie zakoÅ„czone",
            "statusError": "WystÄ…piÅ‚ bÅ‚Ä…d",
            "progressExtracting": "Ekstrakcja tekstu: ",
            "progressSentence": "Zdanie: ",
            "progressComplete": "ZakoÅ„czono",
            "alertSelectPdf": "Najpierw wybierz plik PDF",
            "alertNoText": "Nie znaleziono czytelnego tekstu w PDF",
            "alertSpeechNotSupported": "Twoja przeglÄ…darka nie obsÅ‚uguje syntezy mowy",
            "alertAlreadySpeaking": "JuÅ¼ czyta",
            "alertNotSpeaking": "Obecnie nie czyta",
            "alertFirstSentence": "JesteÅ› przy pierwszym zdaniu",
            "alertLastSentence": "JesteÅ› przy ostatnim zdaniu",
            "languageDetected": "Wykryty jÄ™zyk: "
        },
        "sw": {
            "pageTitle": "Kusoma kwa sauti",
            "selectPdfTitle": "Chagua faili ya PDF",
            "selectPdfSubtitle": "Chagua faili ya PDF kwa kusoma kwa sauti",
            "btnPrev": "NYUMA",
            "btnPlayPause": "CHEZA",
            "btnNext": "INAYOFUATA",
            "btnRestart": "ANZA UPYA",
            "btnSpeed": "1.0x",
            "btnStop": "SIMAMISHA",
            "emptyStateText": "Chagua faili ya PDF kwa kusoma kwa sauti",
            "selectPdf": "CHAGUA PDF",
            "statusSelectPdf": "Bonyeza eneo hapo juu kuchagua PDF",
            "statusLoading": "Inapakia PDF...",
            "statusExtracting": "Inatoa maandishi...",
            "statusReady": "Tayari kusoma!",
            "statusPlaying": "Inacheza...",
            "statusPaused": "Imezimwa",
            "statusCompleted": "Kusoma kumekamilika",
            "statusError": "Hitilafu imetokea",
            "progressExtracting": "Inatoa maandishi: ",
            "progressSentence": "Sentensi: ",
            "progressComplete": "Kamili",
            "alertSelectPdf": "Tafadhali chagua faili ya PDF kwanza",
            "alertNoText": "Hakuna maandishi yanayoweza kusomwa yaliyopatikana kwenye PDF",
            "alertSpeechNotSupported": "Kivinjari chako hakiungii mkono usanisi wa sauti",
            "alertAlreadySpeaking": "Tayari inasoma",
            "alertNotSpeaking": "Haikusomi kwa sasa",
            "alertFirstSentence": "Uko kwenye sentensi ya kwanza",
            "alertLastSentence": "Uko kwenye sentensi ya mwisho",
            "languageDetected": "Lugha imegunduliwa: "
        },
        "hi": {
            "pageTitle": "à¤Ÿà¥‡à¤•à¥à¤¸à¥à¤Ÿ-à¤Ÿà¥‚-à¤¸à¥à¤ªà¥€à¤š",
            "selectPdfTitle": "PDF à¤«à¤¼à¤¾à¤‡à¤² à¤šà¥à¤¨à¥‡à¤‚",
            "selectPdfSubtitle": "à¤Ÿà¥‡à¤•à¥à¤¸à¥à¤Ÿ-à¤Ÿà¥‚-à¤¸à¥à¤ªà¥€à¤š à¤•à¥‡ à¤²à¤¿à¤ à¤à¤• PDF à¤«à¤¼à¤¾à¤‡à¤² à¤šà¥à¤¨à¥‡à¤‚",
            "btnPrev": "à¤ªà¤¿à¤›à¤²à¤¾",
            "btnPlayPause": "à¤šà¤²à¤¾à¤à¤",
            "btnNext": "à¤…à¤—à¤²à¤¾",
            "btnRestart": "à¤ªà¥à¤¨à¤ƒ à¤†à¤°à¤‚à¤­",
            "btnSpeed": "1.0x",
            "btnStop": "à¤°à¥‹à¤•à¥‡à¤‚",
            "emptyStateText": "à¤Ÿà¥‡à¤•à¥à¤¸à¥à¤Ÿ-à¤Ÿà¥‚-à¤¸à¥à¤ªà¥€à¤š à¤•à¥‡ à¤²à¤¿à¤ à¤à¤• PDF à¤«à¤¼à¤¾à¤‡à¤² à¤šà¥à¤¨à¥‡à¤‚",
            "selectPdf": "PDF à¤šà¥à¤¨à¥‡à¤‚",
            "statusSelectPdf": "PDF à¤šà¥à¤¨à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤Šà¤ªà¤° à¤•à¥‡ à¤•à¥à¤·à¥‡à¤¤à¥à¤° à¤ªà¤° à¤•à¥à¤²à¤¿à¤• à¤•à¤°à¥‡à¤‚",
            "statusLoading": "PDF à¤²à¥‹à¤¡ à¤¹à¥‹ à¤°à¤¹à¤¾ à¤¹à¥ˆ...",
            "statusExtracting": "à¤Ÿà¥‡à¤•à¥à¤¸à¥à¤Ÿ à¤¨à¤¿à¤•à¤¾à¤²à¤¾ à¤œà¤¾ à¤°à¤¹à¤¾ à¤¹à¥ˆ...",
            "statusReady": "à¤ªà¤¢à¤¼à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤¤à¥ˆà¤¯à¤¾à¤°!",
            "statusPlaying": "à¤šà¤² à¤°à¤¹à¤¾ à¤¹à¥ˆ...",
            "statusPaused": "à¤°à¥à¤•à¤¾ à¤¹à¥à¤†",
            "statusCompleted": "à¤ªà¤¢à¤¼à¤¨à¤¾ à¤ªà¥‚à¤°à¤¾ à¤¹à¥à¤†",
            "statusError": "à¤à¤• à¤¤à¥à¤°à¥à¤Ÿà¤¿ à¤¹à¥à¤ˆ",
            "progressExtracting": "à¤Ÿà¥‡à¤•à¥à¤¸à¥à¤Ÿ à¤¨à¤¿à¤•à¤¾à¤² à¤°à¤¹à¤¾ à¤¹à¥ˆ: ",
            "progressSentence": "à¤µà¤¾à¤•à¥à¤¯: ",
            "progressComplete": "à¤ªà¥‚à¤°à¥à¤£",
            "alertSelectPdf": "à¤•à¥ƒà¤ªà¤¯à¤¾ à¤ªà¤¹à¤²à¥‡ à¤à¤• PDF à¤«à¤¼à¤¾à¤‡à¤² à¤šà¥à¤¨à¥‡à¤‚",
            "alertNoText": "PDF à¤®à¥‡à¤‚ à¤•à¥‹à¤ˆ à¤ªà¤ à¤¨à¥€à¤¯ à¤Ÿà¥‡à¤•à¥à¤¸à¥à¤Ÿ à¤¨à¤¹à¥€à¤‚ à¤®à¤¿à¤²à¤¾",
            "alertSpeechNotSupported": "à¤†à¤ªà¤•à¤¾ à¤¬à¥à¤°à¤¾à¤‰à¤œà¤¼à¤° à¤¸à¥à¤ªà¥€à¤š à¤¸à¤¿à¤‚à¤¥à¥‡à¤¸à¤¿à¤¸ à¤•à¤¾ à¤¸à¤®à¤°à¥à¤¥à¤¨ à¤¨à¤¹à¥€à¤‚ à¤•à¤°à¤¤à¤¾",
            "alertAlreadySpeaking": "à¤ªà¤¹à¤²à¥‡ à¤¸à¥‡ à¤¹à¥€ à¤ªà¤¢à¤¼ à¤°à¤¹à¤¾ à¤¹à¥ˆ",
            "alertNotSpeaking": "à¤µà¤°à¥à¤¤à¤®à¤¾à¤¨ à¤®à¥‡à¤‚ à¤¨à¤¹à¥€à¤‚ à¤ªà¤¢à¤¼ à¤°à¤¹à¤¾",
            "alertFirstSentence": "à¤†à¤ª à¤ªà¤¹à¤²à¥‡ à¤µà¤¾à¤•à¥à¤¯ à¤ªà¤° à¤¹à¥ˆà¤‚",
            "alertLastSentence": "à¤†à¤ª à¤…à¤‚à¤¤à¤¿à¤® à¤µà¤¾à¤•à¥à¤¯ à¤ªà¤° à¤¹à¥ˆà¤‚",
            "languageDetected": "à¤­à¤¾à¤·à¤¾ à¤ªà¤¾à¤ˆ à¤—à¤ˆ: "
        }
    };
    
    // ==================== DÄ°L ALGILAMA ====================
    const languageDetection = {
        detect: function(text) {
            if (!text || text.length < 10) return 'en';
            
            const sample = text.substring(0, 500).toLowerCase();
            
            // TÃ¼rkÃ§e
            const turkishChars = /[Ã§ÄŸÄ±Ã¶ÅŸÃ¼Ã¢Ã®Ã»]/;
            if (turkishChars.test(sample)) return 'tr';
            
            // Ä°ngilizce
            const englishCommon = /\b(the|and|you|that|have|for|with|this|are|was)\b/i;
            if (englishCommon.test(sample)) return 'en';
            
            // Almanca
            const germanCommon = /\b(der|die|das|und|ist|nicht|mit|von|auf|fÃ¼r)\b/i;
            if (germanCommon.test(sample)) return 'de';
            
            // FransÄ±zca
            const frenchCommon = /\b(le|la|les|et|est|pas|avec|pour|dans|sur)\b/i;
            if (frenchCommon.test(sample)) return 'fr';
            
            // Ä°spanyolca
            const spanishCommon = /\b(el|la|los|las|y|es|no|con|por|para)\b/i;
            if (spanishCommon.test(sample)) return 'es';
            
            // ArapÃ§a
            const arabicChars = /[\u0600-\u06FF]/;
            if (arabicChars.test(sample)) return 'ar';
            
            // RusÃ§a
            const russianChars = /[\u0400-\u04FF]/;
            if (russianChars.test(sample)) return 'ru';
            
            // Ã‡ince
            const chineseChars = /[\u4e00-\u9fff]/;
            if (chineseChars.test(sample)) return 'zh';
            
            // Japonca
            const japaneseChars = /[\u3040-\u309f\u30a0-\u30ff]/;
            if (japaneseChars.test(sample)) return 'ja';
            
            // Korece
            const koreanChars = /[\uac00-\ud7af]/;
            if (koreanChars.test(sample)) return 'ko';
            
            // Portekizce
            const portugueseCommon = /\b(o|a|os|as|e|Ã©|nÃ£o|com|para|por)\b/i;
            if (portugueseCommon.test(sample)) return 'pt';
            
            // Ä°talyanca
            const italianCommon = /\b(il|la|lo|i|gli|le|e|Ã¨|non|con)\b/i;
            if (italianCommon.test(sample)) return 'it';
            
            // Hollandaca
            const dutchCommon = /\b(de|het|een|en|is|niet|met|van|op|voor)\b/i;
            if (dutchCommon.test(sample)) return 'nl';
            
            // LehÃ§e
            const polishCommon = /\b(i|w|na|z|do|siÄ™|Å¼e|o|nie|jest)\b/i;
            if (polishCommon.test(sample)) return 'pl';
            
            // HintÃ§e
            const hindiCommon = /[\u0900-\u097F]/;
            if (hindiCommon.test(sample)) return 'hi';
            
            return 'en';
        },
        
        getSpeechLangCode: function(langCode) {
            const langMap = {
                'tr': 'tr-TR', 'en': 'en-US', 'de': 'de-DE', 'fr': 'fr-FR', 
                'es': 'es-ES', 'ar': 'ar-SA', 'ru': 'ru-RU', 'zh': 'zh-CN',
                'ja': 'ja-JP', 'ko': 'ko-KR', 'pt': 'pt-BR', 'it': 'it-IT',
                'nl': 'nl-NL', 'pl': 'pl-PL', 'hi': 'hi-IN', 'sw': 'sw-KE'
            };
            return langMap[langCode] || 'en-US';
        },
        
        getLanguageName: function(langCode) {
            const names = {
                'tr': 'TÃ¼rkÃ§e', 'en': 'Ä°ngilizce', 'de': 'Almanca', 'fr': 'FransÄ±zca',
                'es': 'Ä°spanyolca', 'ar': 'ArapÃ§a', 'ru': 'RusÃ§a', 'zh': 'Ã‡ince',
                'ja': 'Japonca', 'ko': 'Korece', 'pt': 'Portekizce', 'it': 'Ä°talyanca',
                'nl': 'FlemenkÃ§e', 'pl': 'LehÃ§e', 'hi': 'HintÃ§e', 'sw': 'Svahili'
            };
            return names[langCode] || langCode;
        },
        
        getFlag: function(langCode) {
            const flags = {
                'tr': 'ğŸ‡¹ğŸ‡·', 'en': 'ğŸ‡ºğŸ‡¸', 'de': 'ğŸ‡©ğŸ‡ª', 'fr': 'ğŸ‡«ğŸ‡·',
                'es': 'ğŸ‡ªğŸ‡¸', 'ar': 'ğŸ‡¸ğŸ‡¦', 'ru': 'ğŸ‡·ğŸ‡º', 'zh': 'ğŸ‡¨ğŸ‡³',
                'ja': 'ğŸ‡¯ğŸ‡µ', 'ko': 'ğŸ‡°ğŸ‡·', 'pt': 'ğŸ‡µğŸ‡¹', 'it': 'ğŸ‡®ğŸ‡¹',
                'nl': 'ğŸ‡³ğŸ‡±', 'pl': 'ğŸ‡µğŸ‡±', 'hi': 'ğŸ‡®ğŸ‡³', 'sw': 'ğŸ‡¹ğŸ‡¿'
            };
            return flags[langCode] || 'ğŸŒ';
        }
    };
    
    // ==================== TEMEL FONKSÄ°YONLAR ====================
    function getTranslation(key) {
        try {
            const currentLang = languageConfig ? languageConfig.getCurrent() : 'tr';
            const t = translations[currentLang] || translations['tr'];
            return t[key] || key;
        } catch (e) {
            return key;
        }
    }
    
    function updateUIText() {
        try {
            // BaÅŸlÄ±k ve metinler
            document.getElementById('pageTitle').textContent = getTranslation('pageTitle');
            document.getElementById('selectPdfTitle').textContent = getTranslation('selectPdfTitle');
            document.getElementById('selectPdfSubtitle').textContent = getTranslation('selectPdfSubtitle');
            document.getElementById('emptyStateText').textContent = getTranslation('emptyStateText');
            
            // Buton metinleri
            document.getElementById('btnPrev').querySelector('.button-text').textContent = getTranslation('btnPrev');
            document.getElementById('btnPlayPause').querySelector('.button-text').textContent = getTranslation('btnPlayPause');
            document.getElementById('btnNext').querySelector('.button-text').textContent = getTranslation('btnNext');
            document.getElementById('btnRestart').querySelector('.button-text').textContent = getTranslation('btnRestart');
            document.getElementById('btnStop').querySelector('.button-text').textContent = getTranslation('btnStop');
            
            // BoÅŸ durum butonu
            const emptyBtn = document.querySelector('.empty-state .control-button');
            if (emptyBtn) {
                emptyBtn.querySelector('span:last-child').textContent = getTranslation('selectPdf');
            }
            
        } catch (e) {
            console.error('UI metinleri gÃ¼ncellenemedi:', e);
        }
    }
    
    function goBack() {
        if (window.history.length > 1) {
            window.history.back();
        } else {
            window.location.href = 'index.html';
        }
    }
    
    function refreshPDFList() {
        // SayfayÄ± yenile
        window.location.reload();
    }
    
    // ==================== PDF SEÃ‡Ä°MÄ° ====================
    function selectPDFFile() {
        const fileInput = document.getElementById('fileInput');
        fileInput.click();
    }
    
    document.getElementById('fileInput').addEventListener('change', async function(e) {
        if (e.target.files.length === 0) return;
        
        const file = e.target.files[0];
        if (!file.type.includes('pdf')) {
            showStatus(getTranslation('alertSelectPdf'), 'error');
            return;
        }
        
        await loadPDFFile(file);
        this.value = '';
    });
    
    async function loadPDFFile(file) {
        try {
            showStatus(getTranslation('statusLoading'), 'info');
            
            currentPdfFile = file;
            
            // PDF bilgilerini gÃ¶ster
            document.getElementById('currentPdfName').textContent = file.name;
            document.getElementById('currentPdfSize').textContent = formatBytes(file.size);
            document.getElementById('currentPdfDate').textContent = new Date(file.lastModified).toLocaleDateString();
            
            // UI gÃ¼ncelle
            document.getElementById('pdfSelectSection').style.display = 'none';
            document.getElementById('pdfInfoCard').classList.add('visible');
            document.getElementById('emptyState').classList.remove('visible');
            
            // PDF yÃ¼kle
            const arrayBuffer = await file.arrayBuffer();
            pdfDocument = await pdfjsLib.getDocument({ data: arrayBuffer }).promise;
            
            // Metni Ã§Ä±kar
            await extractTextFromPDF();
            
        } catch (error) {
            console.error('PDF yÃ¼kleme hatasÄ±:', error);
            showStatus(getTranslation('statusError'), 'error');
            clearSelection();
        }
    }
    
    // ==================== METÄ°N Ã‡IKARMA ====================
    async function extractTextFromPDF() {
        try {
            showStatus(getTranslation('statusExtracting'), 'info');
            document.getElementById('progressText').textContent = getTranslation('progressExtracting') + '0%';
            
            let fullText = '';
            sentences = [];
            textPositions = [];
            
            // PDF'teki tÃ¼m sayfalarÄ± iÅŸle
            for (let pageNum = 1; pageNum <= pdfDocument.numPages; pageNum++) {
                const page = await pdfDocument.getPage(pageNum);
                const textContent = await page.getTextContent();
                
                // Sayfa metnini birleÅŸtir
                let pageText = textContent.items.map(item => item.str).join(' ');
                fullText += pageText + '\n\n';
                
                // Ä°lerleme gÃ¼ncelle
                const progress = Math.round((pageNum / pdfDocument.numPages) * 100);
                document.getElementById('progressText').textContent = getTranslation('progressExtracting') + progress + '%';
                document.getElementById('progressFill').style.width = progress + '%';
                
                // KÃ¼Ã§Ã¼k bir gecikme (UI gÃ¼ncellemesi iÃ§in)
                await new Promise(resolve => setTimeout(resolve, 50));
            }
            
            if (!fullText.trim()) {
                throw new Error('No text found');
            }
            
            // Dili algÄ±la
            const detectedLang = languageDetection.detect(fullText);
            detectedLanguage = languageDetection.getSpeechLangCode(detectedLang);
            
            // Dil bilgisini gÃ¶ster
            const languageName = languageDetection.getLanguageName(detectedLang);
            const languageFlag = languageDetection.getFlag(detectedLang);
            
            document.getElementById('languageFlag').textContent = languageFlag;
            document.getElementById('languageText').textContent = getTranslation('languageDetected') + languageName;
            
            // CÃ¼mlelere ayÄ±r
            sentences = splitIntoSentences(fullText);
            
            // Metni gÃ¶ster
            document.getElementById('textContent').innerHTML = highlightCurrentSentence();
            document.getElementById('textDisplay').classList.add('visible');
            
            // Kontrolleri gÃ¶ster
            document.getElementById('speechControls').classList.add('visible');
            
            // Ä°lerlemeyi sÄ±fÄ±rla
            currentSentenceIndex = 0;
            updateProgress();
            showStatus(getTranslation('statusReady'), 'success');
            
        } catch (error) {
            console.error('Metin Ã§Ä±karma hatasÄ±:', error);
            showStatus(getTranslation('alertNoText'), 'error');
        }
    }
    
    function splitIntoSentences(text) {
        // Basit cÃ¼mle bÃ¶lme algoritmasÄ±
        const sentenceRegex = /[^.!?â€¦]+[.!?â€¦]+/g;
        const matches = text.match(sentenceRegex) || [];
        
        return matches
            .map(s => s.trim())
            .filter(s => s.length > 5) // Ã‡ok kÄ±sa cÃ¼mleleri filtrele
            .filter(s => !s.match(/^\d+$/)) // Sadece sayÄ±larÄ± filtrele
            .slice(0, 500); // Maksimum 500 cÃ¼mle
    }
    
    function highlightCurrentSentence() {
        if (sentences.length === 0) return getTranslation('alertNoText');
        
        let html = '';
        for (let i = 0; i < sentences.length; i++) {
            const sentence = sentences[i];
            if (i === currentSentenceIndex) {
                html += `<span class="text-highlight current-sentence">${sentence}</span> `;
            } else {
                html += `<span>${sentence}</span> `;
            }
        }
        return html;
    }
    
    // ==================== SESLÄ° OKUMA KONTROLLERÄ° ====================
    function togglePlayPause() {
        if (!speechSynthesis) {
            showStatus(getTranslation('alertSpeechNotSupported'), 'error');
            return;
        }
        
        if (!sentences.length) {
            showStatus(getTranslation('alertSelectPdf'), 'error');
            return;
        }
        
        if (isSpeaking) {
            if (isPaused) {
                resumeReading();
            } else {
                pauseReading();
            }
        } else {
            startReading();
        }
    }
    
    function startReading() {
        if (isSpeaking) {
            showStatus(getTranslation('alertAlreadySpeaking'), 'warning');
            return;
        }
        
        if (currentSentenceIndex >= sentences.length) {
            currentSentenceIndex = 0;
        }
        
        isSpeaking = true;
        isPaused = false;
        updateButtonStates();
        showStatus(getTranslation('statusPlaying'), 'info');
        speakCurrentSentence();
    }
    
    function pauseReading() {
        if (!isSpeaking || isPaused) return;
        
        speechSynthesis.pause();
        isPaused = true;
        updateButtonStates();
        showStatus(getTranslation('statusPaused'), 'warning');
    }
    
    function resumeReading() {
        if (!isSpeaking || !isPaused) return;
        
        speechSynthesis.resume();
        isPaused = false;
        updateButtonStates();
        showStatus(getTranslation('statusPlaying'), 'info');
    }
    
    function stopReading() {
        if (!isSpeaking) {
            showStatus(getTranslation('alertNotSpeaking'), 'warning');
            return;
        }
        
        speechSynthesis.cancel();
        isSpeaking = false;
        isPaused = false;
        updateButtonStates();
        showStatus(getTranslation('statusCompleted'), 'success');
    }
    
    function restartReading() {
        stopReading();
        currentSentenceIndex = 0;
        updateProgress();
        document.getElementById('textContent').innerHTML = highlightCurrentSentence();
        showStatus(getTranslation('statusReady'), 'success');
    }
    
    function prevSentence() {
        if (currentSentenceIndex <= 0) {
            showStatus(getTranslation('alertFirstSentence'), 'warning');
            return;
        }
        
        stopReading();
        currentSentenceIndex--;
        updateProgress();
        document.getElementById('textContent').innerHTML = highlightCurrentSentence();
        showStatus(getTranslation('progressSentence') + (currentSentenceIndex + 1), 'info');
    }
    
    function nextSentence() {
        if (currentSentenceIndex >= sentences.length - 1) {
            showStatus(getTranslation('alertLastSentence'), 'warning');
            return;
        }
        
        stopReading();
        currentSentenceIndex++;
        updateProgress();
        document.getElementById('textContent').innerHTML = highlightCurrentSentence();
        showStatus(getTranslation('progressSentence') + (currentSentenceIndex + 1), 'info');
    }
    
    function speakCurrentSentence() {
        if (currentSentenceIndex >= sentences.length) {
            stopReading();
            showStatus(getTranslation('statusCompleted'), 'success');
            return;
        }
        
        const sentence = sentences[currentSentenceIndex];
        
        // Metni gÃ¼ncelle
        document.getElementById('textContent').innerHTML = highlightCurrentSentence();
        updateProgress();
        
        // KonuÅŸma oluÅŸtur
        if (currentUtterance) {
            speechSynthesis.cancel();
        }
        
        currentUtterance = new SpeechSynthesisUtterance(sentence);
        currentUtterance.lang = detectedLanguage;
        currentUtterance.rate = speechRate;
        currentUtterance.volume = 1.0;
        currentUtterance.pitch = 1.0;
        
        currentUtterance.onstart = function() {
            console.log('CÃ¼mle baÅŸladÄ±:', currentSentenceIndex + 1);
        };
        
        currentUtterance.onend = function() {
            console.log('CÃ¼mle bitti:', currentSentenceIndex + 1);
            
            if (isSpeaking && !isPaused) {
                currentSentenceIndex++;
                
                if (currentSentenceIndex < sentences.length) {
                    setTimeout(speakCurrentSentence, 300);
                } else {
                    stopReading();
                    showStatus(getTranslation('statusCompleted'), 'success');
                }
            }
        };
        
        currentUtterance.onerror = function(event) {
            console.error('Okuma hatasÄ±:', event);
            showStatus(getTranslation('statusError'), 'error');
            
            if (isSpeaking && !isPaused) {
                currentSentenceIndex++;
                if (currentSentenceIndex < sentences.length) {
                    setTimeout(speakCurrentSentence, 300);
                }
            }
        };
        
        speechSynthesis.speak(currentUtterance);
    }
    
    // ==================== HIZ KONTROLLERÄ° ====================
    function cycleSpeed() {
        const speeds = [0.5, 0.75, 1.0, 1.25, 1.5, 2.0];
        const currentIndex = speeds.indexOf(speechRate);
        const nextIndex = (currentIndex + 1) % speeds.length;
        setSpeed(speeds[nextIndex]);
    }
    
    function setSpeed(speed) {
        speechRate = speed;
        
        // Aktif butonu gÃ¼ncelle
        document.querySelectorAll('.speed-button').forEach(btn => {
            btn.classList.remove('active');
            if (parseFloat(btn.dataset.speed) === speed) {
                btn.classList.add('active');
            }
        });
        
        // HÄ±z metnini gÃ¼ncelle
        document.getElementById('speedText').textContent = speed.toFixed(1) + 'x';
        
        // Mevcut konuÅŸmayÄ± gÃ¼ncelle
        if (currentUtterance) {
            currentUtterance.rate = speed;
        }
    }
    
    // ==================== UI GÃœNCELLEMELERÄ° ====================
    function updateProgress() {
        if (sentences.length === 0) return;
        
        const progress = Math.round(((currentSentenceIndex + 1) / sentences.length) * 100);
        document.getElementById('progressText').textContent = 
            getTranslation('progressSentence') + (currentSentenceIndex + 1) + '/' + sentences.length + 
            ' (' + progress + '%)';
        document.getElementById('progressFill').style.width = progress + '%';
    }
    
    function updateButtonStates() {
        const playPauseBtn = document.getElementById('btnPlayPause');
        const playPauseIcon = document.getElementById('playPauseIcon');
        const playPauseText = document.getElementById('playPauseText');
        
        if (isSpeaking) {
            if (isPaused) {
                playPauseIcon.textContent = 'play_arrow';
                playPauseText.textContent = getTranslation('btnPlayPause');
                playPauseBtn.classList.remove('success');
                playPauseBtn.classList.add('warning');
            } else {
                playPauseIcon.textContent = 'pause';
                playPauseText.textContent = 'DURDUR';
                playPauseBtn.classList.remove('warning');
                playPauseBtn.classList.add('success');
            }
        } else {
            playPauseIcon.textContent = 'play_arrow';
            playPauseText.textContent = getTranslation('btnPlayPause');
            playPauseBtn.classList.remove('warning');
            playPauseBtn.classList.add('success');
        }
    }
    
    function showStatus(message, type = 'info') {
        const statusElement = document.getElementById('statusMessage');
        const statusText = document.getElementById('statusText');
        
        statusText.textContent = message;
        statusElement.className = 'status-message visible ' + type;
        
        // 3 saniye sonra gizle
        setTimeout(() => {
            statusElement.classList.remove('visible');
        }, 3000);
    }
    
    function clearSelection() {
        // OkumayÄ± durdur
        stopReading();
        
        // DeÄŸiÅŸkenleri sÄ±fÄ±rla
        currentPdfFile = null;
        pdfTextContent = "";
        sentences = [];
        currentSentenceIndex = 0;
        pdfDocument = null;
        textPositions = [];
        
        // UI'Ä± sÄ±fÄ±rla
        document.getElementById('pdfSelectSection').style.display = 'block';
        document.getElementById('pdfInfoCard').classList.remove('visible');
        document.getElementById('speechControls').classList.remove('visible');
        document.getElementById('textDisplay').classList.remove('visible');
        document.getElementById('emptyState').classList.add('visible');
        document.getElementById('statusMessage').classList.remove('visible');
        
        // File input'u temizle
        document.getElementById('fileInput').value = '';
    }
    
    // ==================== YARDIMCI FONKSÄ°YONLAR ====================
    function formatBytes(bytes) {
        if (bytes === 0) return '0 Bytes';
        const k = 1024;
        const sizes = ['Bytes', 'KB', 'MB', 'GB'];
        const i = Math.floor(Math.log(bytes) / Math.log(k));
        return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];
    }
    
    // ==================== SAYFA YÃœKLENDÄ°ÄÄ°NDE ====================
    document.addEventListener('DOMContentLoaded', function() {
        // UI metinlerini gÃ¼ncelle
        updateUIText();
        
        // Tema ayarÄ±
        const savedTheme = localStorage.getItem('pdfTheme') || 'light';
        document.documentElement.setAttribute('data-theme', savedTheme);
        
        // Dil deÄŸiÅŸikliklerini dinle
        if (languageConfig && languageConfig.onLanguageChange) {
            languageConfig.onLanguageChange(updateUIText);
        }
        
        // Speech synthesis kontrolÃ¼
        if (!('speechSynthesis' in window)) {
            showStatus(getTranslation('alertSpeechNotSupported'), 'error');
            document.getElementById('speechControls').style.display = 'none';
        }
        
        // HÄ±z butonlarÄ±nÄ± aktif et
        document.querySelectorAll('.speed-button').forEach(btn => {
            btn.addEventListener('click', function() {
                const speed = parseFloat(this.dataset.speed);
                setSpeed(speed);
            });
        });
        
        // VarsayÄ±lan hÄ±z
        setSpeed(1.0);
    });
    
    // ==================== SAYFA KAPATILIRKEN ====================
    window.addEventListener('beforeunload', function() {
        stopReading();
    });
    
    // ==================== ANDROID BRIDGE FONKSÄ°YONLARI ====================
    window.goBack = goBack;
    window.refreshPDFList = refreshPDFList;
    window.selectPDFFile = selectPDFFile;
    window.clearSelection = clearSelection;
    window.togglePlayPause = togglePlayPause;
    window.prevSentence = prevSentence;
    window.nextSentence = nextSentence;
    window.restartReading = restartReading;
    window.stopReading = stopReading;
    window.cycleSpeed = cycleSpeed;
    window.setSpeed = setSpeed;
    
  </script>
</body>
</html>
